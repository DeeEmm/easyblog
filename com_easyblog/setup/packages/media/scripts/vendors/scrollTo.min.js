FD50.module("scrollTo",function(e){function t(){function t(t){return"object"==typeof t?t:{top:t,left:t}}var s,p;(p=(s=e).scrollTo=function(t,e,o){s(window).scrollTo(t,e,o)}).defaults={axis:"xy",duration:1.3<=parseFloat(s.fn.jquery)?0:1,limit:!0},p.window=function(t){return s(window)._scrollable()},s.fn._scrollable=function(){return this.map(function(){var t=this;if(!(!t.nodeName||-1!=s.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])))return t;t=(t.contentWindow||t).document||t.ownerDocument||t;return/webkit/i.test(navigator.userAgent)||"BackCompat"==t.compatMode?t.body:t.documentElement})},s.fn.scrollTo=function(e,o,m){return"object"==typeof o&&(m=o,o=0),"function"==typeof m&&(m={onAfter:m}),"max"==e&&(e=9e9),m=s.extend({},p.defaults,m),o=o||m.duration,m.queue=m.queue&&1<m.axis.length,m.queue&&(o/=2),m.offset=t(m.offset),m.over=t(m.over),this._scrollable().each(function(){function a(t){c.animate(h,o,m.easing,t&&function(){t.call(this,e,m)})}if(null!=e){var l,f=this,c=s(f),u=e,h={},d=c.is("html,body");switch(typeof u){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(u)){u=t(u);break}if(!(u=s(u,this)).length)return;case"object":(u.is||u.style)&&(l=(u=s(u)).offset())}s.each(m.axis.split(""),function(t,e){var o="x"==e?"Left":"Top",n=o.toLowerCase(),i="scroll"+o,r=f[i],s=p.max(f,e);l?(h[i]=l[n]+(d?0:r-c.offset()[n]),m.margin&&(h[i]-=parseInt(u.css("margin"+o))||0,h[i]-=parseInt(u.css("border"+o+"Width"))||0),h[i]+=m.offset[n]||0,m.over[n]&&(h[i]+=u["x"==e?"width":"height"]()*m.over[n])):(n=u[n],h[i]=n.slice&&"%"==n.slice(-1)?parseFloat(n)/100*s:n),m.limit&&/^\d+$/.test(h[i])&&(h[i]=h[i]<=0?0:Math.min(h[i],s)),!t&&m.queue&&(r!=h[i]&&a(m.onAfterFirst),delete h[i])}),a(m.onAfter)}}).end()},s.fn.scrollIntoView=function(t){if(!((t=s(t)).length<1)){var e=this.offset(),o=this.height(),n=e.top,i=n+o,r=t.offset(),e=t.height(),r=r.top;return i<r+e?this.scrollTo(t):r<n?this.scrollTo(t,{offset:-1*(o-e)}):void 0}},p.max=function(t,e){var o="x"==e?"Width":"Height",n="scroll"+o;if(!s(t).is("html,body"))return t[n]-s(t)[o.toLowerCase()]();e="client"+o,o=t.ownerDocument.documentElement,t=t.ownerDocument.body;return Math.max(o[n],t[n])-Math.min(o[e],t[e])}}t(),this.resolveWith(t)});