FD50.module("datetimepicker",function(_){var t=this;_.require().script("moment").done(function(){function e(){function a(a,o){function t(){g.widget.off("click",".datepicker *",g.click),g.widget.off("click","[data-action]"),g.widget.off("mousedown",g.stopEvent),g.options.pickDate&&g.options.pickTime&&g.widget.off("click.togglePicker"),g.isInput?g.element.off({focus:g.show,change:g.change}):(g.element.off({change:g.change},"input"),(g.component||g.element).off("click",g.show))}function n(){_(window).off("resize.datetimepicker"+g.id),g.isInput||_(document).off("mousedown.datetimepicker"+g.id)}var s={pickDate:!0,pickTime:!0,useMinutes:!0,useSeconds:!1,useCurrent:!0,minuteStepping:1,minDate:new W({y:1900}),maxDate:(new W).add(100,"y"),showToday:!0,collapse:!0,language:"en",defaultDate:"",disabledDates:!1,enabledDates:!1,icons:{},useStrict:!1,direction:"auto",sideBySide:!1,daysOfWeekDisabled:!1,component:"",dow:0},d={time:"fdi fa fa-clock",date:"fdi fa fa-calendar",up:"fdi fa fa-chevron-up",down:"fdi fa fa-chevron-down"},g=this,c=function(){return g.isInput?g.element:dateStr=g.element.find("input")},r=function(){var e=(g.element.is("input"),g.element.data());void 0!==e.dateFormat&&(g.options.format=e.dateFormat),void 0!==e.datePickdate&&(g.options.pickDate=e.datePickdate),void 0!==e.datePicktime&&(g.options.pickTime=e.datePicktime),void 0!==e.dateUseminutes&&(g.options.useMinutes=e.dateUseminutes),void 0!==e.dateUseseconds&&(g.options.useSeconds=e.dateUseseconds),void 0!==e.dateUsecurrent&&(g.options.useCurrent=e.dateUsecurrent),void 0!==e.dateMinutestepping&&(g.options.minuteStepping=e.dateMinutestepping),void 0!==e.dateMindate&&(g.options.minDate=e.dateMindate),void 0!==e.dateMaxdate&&(g.options.maxDate=e.dateMaxdate),void 0!==e.dateShowtoday&&(g.options.showToday=e.dateShowtoday),void 0!==e.dateCollapse&&(g.options.collapse=e.dateCollapse),void 0!==e.dateLanguage&&(g.options.language=e.dateLanguage),void 0!==e.dateDefaultdate&&(g.options.defaultDate=e.dateDefaultdate),void 0!==e.dateDisableddates&&(g.options.disabledDates=e.dateDisableddates),void 0!==e.dateEnableddates&&(g.options.enabledDates=e.dateEnableddates),void 0!==e.dateIcons&&(g.options.icons=e.dateIcons),void 0!==e.dateUsestrict&&(g.options.useStrict=e.dateUsestrict),void 0!==e.dateDirection&&(g.options.direction=e.dateDirection),void 0!==e.dateSidebyside&&(g.options.sideBySide=e.dateSidebyside)},p=function(){var e,t="absolute",i=(g.component||g.element).offset(),a=_(window);g.width=(g.component||g.element).outerWidth(),i.top=i.top+g.element.outerHeight(),"up"===g.options.direction?e="top":"bottom"===g.options.direction?e="bottom":"auto"===g.options.direction&&(e=i.top+g.widget.height()>a.height()+a.scrollTop()&&g.widget.height()+g.element.outerHeight()<i.top?"top":"bottom"),"top"===e?(i.top-=g.widget.height()+g.element.outerHeight()+15,g.widget.addClass("top").removeClass("bottom")):(i.top+=1,g.widget.addClass("bottom").removeClass("top")),void 0!==g.options.width&&g.widget.width(g.options.width),"left"===g.options.orientation&&(g.widget.addClass("left-oriented"),i.left=i.left-g.widget.width()+20),P()&&(t="fixed",i.top-=a.scrollTop(),i.left-=a.scrollLeft()),a.width()<i.left+g.widget.outerWidth()?(i.right=a.width()-i.left-g.width,i.left="auto",g.widget.addClass("pull-right")):(i.right="auto",g.widget.removeClass("pull-right")),g.widget.css({position:t,top:i.top,left:i.left,right:i.right})},l=function(e,t){W(g.date).isSame(W(e))||(g.element.trigger({type:"dp.change",date:W(g.date),oldDate:W(e)}),"change"!==t&&g.element.change())},m=function(e){g.element.trigger({type:"dp.error",date:W(e)})},u=function(e){W.lang(g.options.language);var t;e||((t=c().val())&&(g.date=W(t,g.format,g.options.useStrict)),g.date||(g.date=W())),g.viewDate=W(g.date).startOf("month"),w(),y()},f=function(){W.lang(g.options.language);var i=_("<tr>"),e=(e=W.weekdaysMin()).splice(W()._lang._week.dow).concat(e);_.each(e,function(e,t){i.append('<th class="dow">'+t+"</th>")}),g.widget.find(".datepicker-days thead").append(i)},h=function(){W.lang(g.options.language);for(var e="",t=0,i=W.monthsShort();t<12;)e+='<span class="month">'+i[t++]+"</span>";g.widget.find(".datepicker-months td").append(e)},w=function(){W.lang(g.options.language);var e,t,i,a,o,n,s,d,c=g.viewDate.year(),r=g.viewDate.month(),p=g.options.minDate.year(),l=g.options.minDate.month(),m=g.options.maxDate.year(),u=g.options.maxDate.month(),f=[],h=W.months();for(g.widget.find(".datepicker-days").find(".disabled").removeClass("disabled"),g.widget.find(".datepicker-months").find(".disabled").removeClass("disabled"),g.widget.find(".datepicker-years").find(".disabled").removeClass("disabled"),g.widget.find(".datepicker-days th:eq(1)").text(h[r]+" "+c),s=(t=W(g.viewDate).subtract("months",1)).daysInMonth(),t.date(s).startOf("week"),(c==p&&r<=l||c<p)&&g.widget.find(".datepicker-days th:eq(0)").addClass("disabled"),(c==m&&u<=r||m<c)&&g.widget.find(".datepicker-days th:eq(2)").addClass("disabled"),i=W(t).add(42,"d");t.isBefore(i);){if(t.weekday()===W().startOf("week").weekday()&&(a=_("<tr>"),f.push(a)),o="",t.year()<c||t.year()==c&&t.month()<r?o+=" old":(t.year()>c||t.year()==c&&t.month()>r)&&(o+=" new"),t.isSame(W({y:g.date.year(),M:g.date.month(),d:g.date.date()}))&&(o+=" active"),!q(t)&&H(t)||(o+=" disabled"),!0===g.options.showToday&&t.isSame(W(),"day")&&(o+=" today"),g.options.daysOfWeekDisabled)for(n in g.options.daysOfWeekDisabled)if(t.day()==g.options.daysOfWeekDisabled[n]){o+=" disabled";break}a.append('<td class="day'+o+'">'+t.date()+"</td>"),e=t.date(),t.add(1,"d"),e==t.date()&&t.add(1,"d")}for(g.widget.find(".datepicker-days tbody").empty().append(f),d=g.date.year(),h=g.widget.find(".datepicker-months").find("th:eq(1)").text(c).end().find("span").removeClass("active"),d===c&&h.eq(g.date.month()).addClass("active"),d-1<p&&g.widget.find(".datepicker-months th:eq(0)").addClass("disabled"),m<d+1&&g.widget.find(".datepicker-months th:eq(2)").addClass("disabled"),n=0;n<12;n++)(c==p&&n<l||c<p||c==m&&u<n||m<c)&&_(h[n]).addClass("disabled");for(f="",c=10*parseInt(c/10,10),s=g.widget.find(".datepicker-years").find("th:eq(1)").text(c+"-"+(c+9)).end().find("td"),g.widget.find(".datepicker-years").find("th").removeClass("disabled"),c<p&&g.widget.find(".datepicker-years").find("th:eq(0)").addClass("disabled"),m<c+9&&g.widget.find(".datepicker-years").find("th:eq(2)").addClass("disabled"),--c,n=-1;n<11;n++)f+='<span class="year'+(-1===n||10===n?" old":"")+(d===c?" active":"")+(c<p||m<c?" disabled":"")+'">'+c+"</span>",c+=1;s.html(f)},v=function(){W.lang(g.options.language);var e,t,i,a=g.widget.find(".timepicker .timepicker-hours table"),o="";if(a.parent().hide(),g.use24hours)for(t=e=0;t<6;t+=1){for(o+="<tr>",i=0;i<4;i+=1)o+='<td class="hour">'+O(e.toString())+"</td>",e++;o+="</tr>"}else for(e=1,t=0;t<3;t+=1){for(o+="<tr>",i=0;i<4;i+=1)o+='<td class="hour">'+O(e.toString())+"</td>",e++;o+="</tr>"}a.html(o)},k=function(){var e,t,i=g.widget.find(".timepicker .timepicker-minutes table"),a="",o=0,n=g.options.minuteStepping;for(i.parent().hide(),1==n&&(n=5),e=0;e<Math.ceil(60/n/4);e++){for(a+="<tr>",t=0;t<4;t+=1)o<60?(a+='<td class="minute">'+O(o.toString())+"</td>",o+=n):a+="<td></td>";a+="</tr>"}i.html(a)},b=function(){var e,t,i=g.widget.find(".timepicker .timepicker-seconds table"),a="",o=0;for(i.parent().hide(),e=0;e<3;e++){for(a+="<tr>",t=0;t<4;t+=1)a+='<td class="second">'+O(o.toString())+"</td>",o+=5;a+="</tr>"}i.html(a)},y=function(){var e,t,i;g.date&&(e=g.widget.find(".timepicker span[data-time-component]"),t=g.date.hours(),i="AM",g.use24hours||(12<=t&&(i="PM"),0===t?t=12:12!=t&&(t%=12),g.widget.find(".timepicker [data-action=togglePeriod]").text(i)),e.filter("[data-time-component=hours]").text(O(t)),e.filter("[data-time-component=minutes]").text(O(g.date.minutes())),e.filter("[data-time-component=seconds]").text(O(g.date.second())))},e=function(e){e.stopPropagation(),e.preventDefault(),g.unset=!1;var t,i,a,o,n=_(e.target).closest("span, td, th"),s=W(g.date);if(1===n.length&&!n.is(".disabled"))switch(n[0].nodeName.toLowerCase()){case"th":switch(n[0].className){case"switch":T(1);break;case"prev":case"next":a=L.modes[g.viewMode].navStep,"prev"===n[0].className&&(a*=-1),g.viewDate.add(a,L.modes[g.viewMode].navFnc),w()}break;case"span":n.is(".month")?(t=n.parent().find("span").index(n),g.viewDate.month(t)):(i=parseInt(n.text(),10)||0,g.viewDate.year(i)),g.viewMode===g.minViewMode&&(g.date=W({y:g.viewDate.year(),M:g.viewDate.month(),d:g.viewDate.date(),h:g.date.hours(),m:g.date.minutes(),s:g.date.seconds()}),l(s,e.type),V()),T(-1),w();break;case"td":n.is(".day")&&(o=parseInt(n.text(),10)||1,t=g.viewDate.month(),i=g.viewDate.year(),n.is(".old")?0===t?(t=11,--i):--t:n.is(".new")&&(11==t?(t=0,i+=1):t+=1),g.date=W({y:i,M:t,d:o,h:g.date.hours(),m:g.date.minutes(),s:g.date.seconds()}),g.viewDate=W({y:i,M:t,d:Math.min(28,o)}),w(),V(),l(s,e.type))}},D={incrementHours:function(){I("add","hours",1)},incrementMinutes:function(){I("add","minutes",g.options.minuteStepping)},incrementSeconds:function(){I("add","seconds",1)},decrementHours:function(){I("subtract","hours",1)},decrementMinutes:function(){I("subtract","minutes",g.options.minuteStepping)},decrementSeconds:function(){I("subtract","seconds",1)},togglePeriod:function(){var e=g.date.hours();12<=e?e-=12:e+=12,g.date.hours(e)},showPicker:function(){g.widget.find(".timepicker > div:not(.timepicker-picker)").hide(),g.widget.find(".timepicker .timepicker-picker").show()},showHours:function(){g.widget.find(".timepicker .timepicker-picker").hide(),g.widget.find(".timepicker .timepicker-hours").show()},showMinutes:function(){g.widget.find(".timepicker .timepicker-picker").hide(),g.widget.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){g.widget.find(".timepicker .timepicker-picker").hide(),g.widget.find(".timepicker .timepicker-seconds").show()},selectHour:function(e){var t=g.widget.find(".timepicker [data-action=togglePeriod]").text(),e=parseInt(_(e.target).text(),10);"PM"==t&&(e+=12),g.date.hours(e),D.showPicker.call(g)},selectMinute:function(e){g.date.minutes(parseInt(_(e.target).text(),10)),D.showPicker.call(g)},selectSecond:function(e){g.date.seconds(parseInt(_(e.target).text(),10)),D.showPicker.call(g)}},M=function(e){var t=W(g.date),i=_(e.currentTarget).data("action"),i=D[i].apply(g,arguments);return S(e),g.date||(g.date=W({y:1970})),V(),y(),l(t,e.type),i},S=function(e){e.stopPropagation(),e.preventDefault()},x=function(e){W.lang(g.options.language);var t=_(e.target),i=W(g.date),t=W(t.val(),g.format,g.options.useStrict);t.isValid()&&!q(t)&&H(t)?(u(),g.setValue(t),l(i,e.type),V()):(g.viewDate=i,l(i,e.type),m(t),g.unset=!0)},T=function(e){e&&(g.viewMode=Math.max(g.minViewMode,Math.min(2,g.viewMode+e)));L.modes[g.viewMode].clsName;g.widget.find(".datepicker > div").hide().filter(".datepicker-"+L.modes[g.viewMode].clsName).show()},C=function(){var t,i,a,o;g.widget.on("click",".datepicker *",_.proxy(e,this)),g.widget.on("click","[data-action]",_.proxy(M,this)),g.widget.on("mousedown",_.proxy(S,this)),g.options.pickDate&&g.options.pickTime&&g.widget.on("click.togglePicker",".accordion-toggle",function(e){e.stopPropagation(),t=_(this),o=t.closest("ul"),i=o.find(".in"),a=o.find(".collapse:not(.in)"),i&&i.length&&((o=i.data("collapse"))&&o.date-transitioning||(i.collapse("hide"),a.collapse("show"),t.find("span").toggleClass(g.options.icons.time+" "+g.options.icons.date),g.element.find(".input-group-addon span").toggleClass(g.options.icons.time+" "+g.options.icons.date)))}),g.isInput?g.element.on({focus:_.proxy(g.show,this),change:_.proxy(x,this),blur:_.proxy(g.hide,this)}):(g.element.on({change:_.proxy(x,this)},"input"),(g.component||g.element).on("click",_.proxy(g.show,this)))},P=function(){if(g.element){for(var e=g.element.parents(),t=!1,i=0;i<e.length;i++)if("fixed"==_(e[i]).css("position")){t=!0;break}return t}return!1},V=function(){W.lang(g.options.language);var e="";g.unset||(e=W(g.date).format(g.format)),c().val(e),g.element.data("date",e),g.options.pickTime||g.hide()},I=function(e,t,i){var a;W.lang(g.options.language),"add"==e?(23==(a=W(g.date)).hours()&&a.add(i,t),a.add(i,t)):a=W(g.date).subtract(i,t),q(W(a.subtract(i,t)))||q(a)?m(a.format(g.format)):("add"==e?g.date.add(i,t):g.date.subtract(i,t),g.unset=!1)},q=function(e){return W.lang(g.options.language),!(!e.isAfter(g.options.maxDate)&&!e.isBefore(g.options.minDate))||!1!==g.options.disabledDates&&!0===g.options.disabledDates[W(e).format("YYYY-MM-DD")]},H=function(e){return W.lang(g.options.language),!1===g.options.enabledDates||!0===g.options.enabledDates[W(e).format("YYYY-MM-DD")]},Y=function(e){var t={},a=0;for(i=0;i<e.length;i++)dDate=W(e[i]),dDate.isValid()&&(t[dDate.format("YYYY-MM-DD")]=!0,a++);return 0<a&&t},O=function(e){return 2<=(e=e.toString()).length?e:"0"+e},F=function(){if(g.options.pickDate&&g.options.pickTime){var e="",e='<div id="eb" class="bootstrap-datetimepicker-widget'+(g.options.sideBySide?" timepicker-sbs":"")+" "+g.options.component+" "+(window.ezb.mobile?"is-mobile":"")+'">';return g.options.sideBySide?e+='<div class="row"><div class="col-sm-6 datepicker">'+L.template+'</div><div class="col-sm-6 timepicker">'+N.getTemplate()+"</div></div>":e+='<ul class="list-unstyled"><li'+(g.options.collapse?' class="collapse in"':"")+'><div class="datepicker">'+L.template+'</div></li><li class="picker-switch accordion-toggle"><a class="btn btn-primary" style="width:100%"><span class="'+g.options.icons.time+'"></span></a></li><li'+(g.options.collapse?' class="collapse"':"")+'><div class="timepicker">'+N.getTemplate()+"</div></li></ul>",e+="</div>"}return g.options.pickTime?'<div id="eb" class="bootstrap-datetimepicker-widget '+g.options.component+(window.ezb.mobile?"is-mobile":"")+'"><div class="timepicker">'+N.getTemplate()+"</div></div>":'<div id="eb" class="bootstrap-datetimepicker-widget '+g.options.component+(window.ezb.mobile?"is-mobile":"")+'"><ul class="list-unstyled"><li'+(g.options.collapse?' class="collapse in"':"")+'><div class="datepicker">'+L.template+"</div></li></ul></div>"},L={modes:[{clsName:"days",navFnc:"month",navStep:1},{clsName:"months",navFnc:"year",navStep:1},{clsName:"years",navFnc:"year",navStep:10}],headTemplate:'<thead><tr><th class="prev">&lsaquo;</th><th colspan="5" class="switch"></th><th class="next">&rsaquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'},N={hourTemplate:'<span data-action="showHours"   data-time-component="hours"   class="timepicker-hour"></span>',minuteTemplate:'<span data-action="showMinutes" data-time-component="minutes" class="timepicker-minute"></span>',secondTemplate:'<span data-action="showSeconds"  data-time-component="seconds" class="timepicker-second"></span>'};L.template='<div class="datepicker-days"><table class="table-condensed">'+L.headTemplate+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+L.headTemplate+L.contTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+L.headTemplate+L.contTemplate+"</table></div>",N.getTemplate=function(){return'<div class="timepicker-picker"><table class="table-condensed"><tr><td><a href="#" class="btn" data-action="incrementHours"><i class="'+g.options.icons.up+'"></i></a></td><td class="separator"></td><td>'+(g.options.useMinutes?'<a href="#" class="btn" data-action="incrementMinutes"><i class="'+g.options.icons.up+'"></i></a>':"")+"</td>"+(g.options.useSeconds?'<td class="separator"></td><td><a href="#" class="btn" data-action="incrementSeconds"><i class="'+g.options.icons.up+'"></i></a></td>':"")+(g.use24hours?"":'<td class="separator"></td>')+"</tr><tr><td>"+N.hourTemplate+'</td> <td class="separator">:</td><td>'+(g.options.useMinutes?N.minuteTemplate:'<span class="timepicker-minute">00</span>')+"</td> "+(g.options.useSeconds?'<td class="separator">:</td><td>'+N.secondTemplate+"</td>":"")+(g.use24hours?"":'<td class="separator"></td><td><button type="button" class="btn btn-primary" data-action="togglePeriod"></button></td>')+'</tr><tr><td><a href="#" class="btn" data-action="decrementHours"><i class="'+g.options.icons.down+'"></i></a></td><td class="separator"></td><td>'+(g.options.useMinutes?'<a href="#" class="btn" data-action="decrementMinutes"><i class="'+g.options.icons.down+'"></i></a>':"")+"</td>"+(g.options.useSeconds?'<td class="separator"></td><td><a href="#" class="btn" data-action="decrementSeconds"><i class="'+g.options.icons.down+'"></i></a></td>':"")+(g.use24hours?"":'<td class="separator"></td>')+'</tr></table></div><div class="timepicker-hours" data-action="selectHour"><table class="table-condensed"></table></div><div class="timepicker-minutes" data-action="selectMinute"><table class="table-condensed"></table></div>'+(g.options.useSeconds?'<div class="timepicker-seconds" data-action="selectSecond"><table class="table-condensed"></table></div>':"")},g.destroy=function(){t(),n(),g.widget.remove(),g.element.removeData("DateTimePicker"),g.component&&g.component.removeData("DateTimePicker")},g.show=function(e){var t,i;g.options.useCurrent&&""==c().val()&&(1!==g.options.minuteStepping?(t=W(),i=g.options.minuteStepping,t.minutes(Math.round(t.minutes()/i)*i%60).seconds(0),g.setValue(t.format(g.format))):g.setValue(W().format(g.format))),g.widget.hasClass("picker-open")?(g.widget.hide(),g.widget.removeClass("picker-open")):(g.widget.show(),g.widget.addClass("picker-open")),g.height=(g.component||g.element).outerHeight(),p(),g.element.trigger({type:"dp.show",date:W(g.date)}),function(){_(window).on("resize.datetimepicker"+g.id,_.proxy(p,this)),g.isInput||_(document).on("mousedown.datetimepicker"+g.id,_.proxy(g.hide,this))}(),e&&S(e)},g.disable=function(){var e=g.element.find("input");e.prop("disabled")||(e.prop("disabled",!0),t())},g.enable=function(){var e=g.element.find("input");e.prop("disabled")&&(e.prop("disabled",!1),C())},g.hide=function(e){if(!e||!_(e.target).is(g.element.attr("id"))){for(var t,i=g.widget.find(".collapse"),a=0;a<i.length;a++)if((t=i.eq(a).data("collapse"))&&t.date-transitioning)return;g.widget.hide(),g.widget.removeClass("picker-open"),g.viewMode=g.startViewMode,T(),g.element.trigger({type:"dp.hide",date:W(g.date)}),n()}},g.setValue=function(e){W.lang(g.options.language),e?g.unset=!1:(g.unset=!0,V()),(e=!W.isMoment(e)?W(e,g.format):e).isValid()?(g.date=e,V(),g.viewDate=W({y:g.date.year(),M:g.date.month()}),w(),y()):m(e)},g.getDate=function(){return g.unset?null:g.date},g.setDate=function(e){var t=W(g.date);e?g.setValue(e):g.setValue(null),l(t,"function")},g.setDisabledDates=function(e){g.options.disabledDates=Y(e),g.viewDate&&u()},g.setEnabledDates=function(e){g.options.enabledDates=Y(e),g.viewDate&&u()},g.setMaxDate=function(e){null!=e&&(g.options.maxDate=W(e),g.viewDate&&u())},g.setMinDate=function(e){null!=e&&(g.options.minDate=W(e),g.viewDate&&u())},function(){var e,t=!1;if(g.options=_.extend({},s,o),g.options.icons=_.extend({},d,g.options.icons),g.element=_(a),r(),!g.options.pickTime&&!g.options.pickDate)throw new Error("Must choose at least one picker");if(g.id=U++,W.lang(g.options.language),g.date=W(),g.unset=!1,g.isInput=g.element.is("input"),g.component=!1,W()._lang._week.dow=g.options.dow,g.element.hasClass("input-group")&&(0==g.element.find(".datepickerbutton").size()?g.component=g.element.find("[class^='input-group-']"):g.component=g.element.find(".datepickerbutton")),g.format=g.options.format,e=W()._lang._longDateFormat,g.format||(g.format=g.options.pickDate?e.L:"",g.options.pickDate&&g.options.pickTime&&(g.format+=" "),g.format+=g.options.pickTime?e.LT:"",g.options.useSeconds&&(~e.LT.indexOf(" A")?g.format=g.format.split(" A")[0]+":ss A":g.format+=":ss")),g.use24hours=g.format.toLowerCase().indexOf("a")<1,g.component&&(t=g.component.find("span")),g.options.pickTime&&t&&t.addClass(g.options.icons.time),g.options.pickDate&&t&&(t.removeClass(g.options.icons.time),t.addClass(g.options.icons.date)),g.widget=_(F()).appendTo("body"),g.options.useSeconds&&!g.use24hours&&g.widget.width(300),g.minViewMode=g.options.minViewMode||0,"string"==typeof g.minViewMode)switch(g.minViewMode){case"months":g.minViewMode=1;break;case"years":g.minViewMode=2;break;default:g.minViewMode=0}if(g.viewMode=g.options.viewMode||0,"string"==typeof g.viewMode)switch(g.viewMode){case"months":g.viewMode=1;break;case"years":g.viewMode=2;break;default:g.viewMode=0}g.options.disabledDates=Y(g.options.disabledDates),g.options.enabledDates=Y(g.options.enabledDates),g.startViewMode=g.viewMode,g.setMinDate(g.options.minDate),g.setMaxDate(g.options.maxDate),f(),h(),v(),k(),b(),u(),T(),C(),""!==g.options.defaultDate&&""==c().val()&&g.setValue(g.options.defaultDate),1!==g.options.minuteStepping&&(t=g.options.minuteStepping,g.date.minutes(Math.round(g.date.minutes()/t)*t%60).seconds(0))}()}var U=0,W=_.moment;_.fn._datetimepicker=function(t){return this.each(function(){var e=_(this);e.data("DateTimePicker")||e.data("DateTimePicker",new a(this,t))})}}e(),t.resolveWith(e)})});